---
globs: *.py
description: Python 代码规范与风格（类型、安全、异常、命名、格式）
---
# Python 代码规范与风格

- 类型提示：公共 API 必须完整标注；避免使用 any 与不安全类型转换。
- 命名：类名 PascalCase；函数/变量 snake_case；名称需具备语义。
- 控制流：优先使用 guard clauses；先处理边界与错误；避免超过 2-3 层嵌套。
- 错误处理：禁止裸 except；不得静默忽略异常；要有有意义的处理或封装后抛出。
- 文档：为公共模块/类/函数编写简洁 Docstring；避免对显而易见代码写注释；注重“为何”。
- 格式化：匹配现有代码风格；避免重排无关行；优先多行清晰表达；长行适当换行。
- 依赖：新增第三方库 import 时，需同步写入 `requirements.txt` 并设定兼容版本区间。
- 版本：目标 Python 3.10+；避免使用已废弃 API。
- I/O 与网络：设置超时；避免隐式全局状态；确保函数可测试、可复用、可组合。

